ðŸŽ­ JTF Database: Master AI Reference GuideThis document defines the schema and relationship logic for the JTF Management Portal. Use this to ensure all code (Apps Script/SQL-style queries) maintains data integrity.1. Identity & Role ArchitectureThe Personnel table is the source of truth for all individuals. Every other role is a specific extension of this table.Personnel: PersonnelID (PK), FirstName, LastName, PrimaryEmail.Extension Tables (1:1 with Personnel): Link via PersonnelID.CastMemberInfo: Permanent cast data.Directors / Teachers / Bartenders: Identify individuals active in specific professional roles.StudentInfo: Tracks student-specific metadata.Alumni: Legacy records.2. Performance & Production ModuleHandles show scheduling, technical duties, and game logging.ShowInformation: The master event table.Keys: ShowTypeID (FK), DirectorID (FK), RoomID (FK).The Assignment Ledger (Many-to-Many):ShowPerformances: Joins ShowID $\leftrightarrow$ CastMemberID.CrewDuties: Joins ShowID $\leftrightarrow$ CastMemberID $\leftrightarrow$ CrewDutyTypeID.BartenderShifts: Joins ShowID $\leftrightarrow$ PersonnelID.GamesPlayed (Ledger):Links ShowID to GameID.Logic: If GameID is NULL, name is in CustomGameName. FlagForMasterList (Boolean) signals a request to move the custom game to MasterGameList.3. Education & Skill Tree ModuleTracks curriculum, student growth, and cast proficiencies.ClassOfferings: Specific class instances. Links to ClassLevelID and TeacherID.StudentEnrollments: The master join between StudentID and OfferingID.Student Feedback & Tracking:ClassSessionLogs: Notes on the group/curriculum for a specific OfferingID + Date.StudentProgressNotes: Individual narrative feedback linked via EnrollmentID.The Skill Tree:SkillCategories: High-level buckets (Fundamentals, Physicality, etc.).Skills: Specific traits linked to categories.StudentCompetencies: Ratings for students during a specific enrollment.CastProficiencies: The "Permanent Record" of a cast member's skills for casting purposes.4. Inventory Ledger ModuleCalculates stock levels based on a transaction history.InventoryItems: The catalog. ItemID, ReorderPoint.InventoryTransactions: The ledger.Logic: Current Quantity = SUM(QuantityChange).QuantityChange: Positive for Restock/Return, Negative for Sale/Damage.Keys: ItemID (FK), LocationID (FK), PersonnelID (FK).ðŸ›  Developer Implementation RulesProgrammatic Joins Only: Do not use the "View" tabs (e.g., Enrollment View) for application logic. Query the source tables and join them by IDs in your code to ensure data is editable and real-time.Conditional Modal Logic:If ShowDate < Today, show the Games Played and Crew Attendance sections in the UI.Dropdown Filtering:Teachers List: Select Personnel WHERE PersonnelID exists in Teachers and Active = 1.Director List: Select Personnel WHERE PersonnelID exists in Directors and Active = 1.Date Handling: Ensure all date inputs are formatted as YYYY-MM-DD for consistency across Apps Script and Google Sheets.Inventory Calculation: When displaying stock, always run a summation of QuantityChange from InventoryTransactions filtered by the ItemID.